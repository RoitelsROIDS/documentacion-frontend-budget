"use strict";(self.webpackChunkmy_docs=self.webpackChunkmy_docs||[]).push([[4592],{3905:(e,n,r)=>{r.d(n,{Zo:()=>d,kt:()=>m});var o=r(7294);function t(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function i(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,o)}return r}function a(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?i(Object(r),!0).forEach((function(n){t(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}function c(e,n){if(null==e)return{};var r,o,t=function(e,n){if(null==e)return{};var r,o,t={},i=Object.keys(e);for(o=0;o<i.length;o++)r=i[o],n.indexOf(r)>=0||(t[r]=e[r]);return t}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],n.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(t[r]=e[r])}return t}var s=o.createContext({}),l=function(e){var n=o.useContext(s),r=n;return e&&(r="function"==typeof e?e(n):a(a({},n),e)),r},d=function(e){var n=l(e.components);return o.createElement(s.Provider,{value:n},e.children)},u="mdxType",p={inlineCode:"code",wrapper:function(e){var n=e.children;return o.createElement(o.Fragment,{},n)}},g=o.forwardRef((function(e,n){var r=e.components,t=e.mdxType,i=e.originalType,s=e.parentName,d=c(e,["components","mdxType","originalType","parentName"]),u=l(r),g=t,m=u["".concat(s,".").concat(g)]||u[g]||p[g]||i;return r?o.createElement(m,a(a({ref:n},d),{},{components:r})):o.createElement(m,a({ref:n},d))}));function m(e,n){var r=arguments,t=n&&n.mdxType;if("string"==typeof e||t){var i=r.length,a=new Array(i);a[0]=g;var c={};for(var s in n)hasOwnProperty.call(n,s)&&(c[s]=n[s]);c.originalType=e,c[u]="string"==typeof e?e:t,a[1]=c;for(var l=2;l<i;l++)a[l]=r[l];return o.createElement.apply(null,a)}return o.createElement.apply(null,r)}g.displayName="MDXCreateElement"},8038:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>s,contentTitle:()=>a,default:()=>p,frontMatter:()=>i,metadata:()=>c,toc:()=>l});var o=r(7462),t=(r(7294),r(3905));const i={},a="LoginScreen",c={unversionedId:"Components/Screens/LoginScreen/LoginScreen",id:"Components/Screens/LoginScreen/LoginScreen",title:"LoginScreen",description:"LoginScreen es responsable de mostrar la pantalla de inicio de sesi\xf3n de la aplicaci\xf3n. La finalidad del c\xf3digo es permitir que los usuarios inicien sesi\xf3n utilizando su cuenta, mostrar un formulario de inicio de sesi\xf3n para ingresar credenciales y redirigir al usuario a la p\xe1gina principal una vez que hayan validado dichas credenciales.",source:"@site/docs/Components/Screens/LoginScreen/LoginScreen.mdx",sourceDirName:"Components/Screens/LoginScreen",slug:"/Components/Screens/LoginScreen/",permalink:"/documentacion-frontend-budget/docs/Components/Screens/LoginScreen/",draft:!1,tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"WorldMap",permalink:"/documentacion-frontend-budget/docs/Components/Screens/BudgetScreen/WorldMap"},next:{title:"LoginForm",permalink:"/documentacion-frontend-budget/docs/Components/Screens/LoginScreen/LoginForm"}},s={},l=[{value:"L\xf3gica y funcionamiento",id:"l\xf3gica-y-funcionamiento",level:2},{value:"UserContext",id:"usercontext",level:3},{value:"Obtenci\xf3n del c\xf3digo de autenticaci\xf3n",id:"obtenci\xf3n-del-c\xf3digo-de-autenticaci\xf3n",level:3},{value:"Manejo de la l\xf3gica de redirecci\xf3n",id:"manejo-de-la-l\xf3gica-de-redirecci\xf3n",level:3}],d={toc:l},u="wrapper";function p(e){let{components:n,...r}=e;return(0,t.kt)(u,(0,o.Z)({},d,r,{components:n,mdxType:"MDXLayout"}),(0,t.kt)("h1",{id:"loginscreen"},"LoginScreen"),(0,t.kt)("p",null,(0,t.kt)("strong",{parentName:"p"},"LoginScreen")," es responsable de mostrar la pantalla de inicio de sesi\xf3n de la aplicaci\xf3n. La finalidad del c\xf3digo es permitir que los usuarios inicien sesi\xf3n utilizando su cuenta, mostrar un formulario de inicio de sesi\xf3n para ingresar credenciales y redirigir al usuario a la p\xe1gina principal una vez que hayan validado dichas credenciales."),(0,t.kt)("admonition",{type:"info"},(0,t.kt)("p",{parentName:"admonition"},"El archivo ",(0,t.kt)("strong",{parentName:"p"},(0,t.kt)("inlineCode",{parentName:"strong"},"LoginScreen.tsx"))," cuenta con su propio archivo de estilos ",(0,t.kt)("strong",{parentName:"p"},"LoginScreen.scss"),"\nCualquier modificaci\xf3n en base a los dise\xf1os debe realizarse en el correspondiente archivo .scss y no desde los estilos de los componentes.")),(0,t.kt)("h2",{id:"l\xf3gica-y-funcionamiento"},"L\xf3gica y funcionamiento"),(0,t.kt)("h3",{id:"usercontext"},"UserContext"),(0,t.kt)("p",null,"El componente utiliza el ",(0,t.kt)("strong",{parentName:"p"},"context ",(0,t.kt)("inlineCode",{parentName:"strong"},"UserContext"))," para obtener informaci\xf3n sobre el estado actual del usuario y el tiempo de carga. Esto permite verificar si el usuario ya ha iniciado sesi\xf3n o si se est\xe1 cargando la informaci\xf3n del mismo."),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-tsx",metastring:'title="/components/screens/LoginScreen/LoginScreen.tsx"',title:'"/components/screens/LoginScreen/LoginScreen.tsx"'},"import { UserContext } from '../../../App'\nconst { user, userLoading } = useContext(UserContext)\n")),(0,t.kt)("h3",{id:"obtenci\xf3n-del-c\xf3digo-de-autenticaci\xf3n"},"Obtenci\xf3n del c\xf3digo de autenticaci\xf3n"),(0,t.kt)("p",null,"El c\xf3digo hace uso de la ",(0,t.kt)("strong",{parentName:"p"},"URL")," para obtener el par\xe1metro de consulta code utilizando ",(0,t.kt)("inlineCode",{parentName:"p"},"URLSearchParams"),". Esto se utiliza para verificar si se ha proporcionado un c\xf3digo de autenticaci\xf3n en la URL (dicho c\xf3digo puede ser utilizado posteriormente para autenticar al usuario y redirigirlo correctamente despu\xe9s del inicio de sesi\xf3n)."),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-tsx",metastring:'title="/components/screens/LoginScreen/LoginScreen.tsx"',title:'"/components/screens/LoginScreen/LoginScreen.tsx"'},"const urlAuthCode = new URLSearchParams(window.location.search);\nconst code = urlAuthCode.get('code');\n")),(0,t.kt)("h3",{id:"manejo-de-la-l\xf3gica-de-redirecci\xf3n"},"Manejo de la l\xf3gica de redirecci\xf3n"),(0,t.kt)("ul",null,(0,t.kt)("li",{parentName:"ul"},"Si el usuario est\xe1 cargando, el componente ",(0,t.kt)("strong",{parentName:"li"},(0,t.kt)("inlineCode",{parentName:"strong"},"LoginScreen"))," no muestra nada para evitar renderizar contenido innecesario."),(0,t.kt)("li",{parentName:"ul"},"Si el usuario ya ha iniciado sesi\xf3n, el c\xf3digo verifica si se ha proporcionado un c\xf3digo de autenticaci\xf3n en la URL. Si no se ha proporcionado un c\xf3digo, se redirige al usuario a la p\xe1gina principal ",(0,t.kt)("strong",{parentName:"li"},"(/)")," utilizando el componente ",(0,t.kt)("strong",{parentName:"li"},"Navigate")," de react-router-dom. Si se proporciona un c\xf3digo, se agrega como par\xe1metro a la URL de redirecci\xf3n."),(0,t.kt)("li",{parentName:"ul"},"Si el usuario no ha iniciado sesi\xf3n, se muestra la pantalla de inicio de sesi\xf3n con el formulario correspondiente.")),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-tsx",metastring:'title="/components/screens/LoginScreen/LoginScreen.tsx"',title:'"/components/screens/LoginScreen/LoginScreen.tsx"'},'export const LoginScreen: FC = () => {\n    const { user, userLoading } = useContext(UserContext)\n    const urlAuthCode = new URLSearchParams(window.location.search);\n    const code = urlAuthCode.get(\'code\');\n\n    if (userLoading) return null\n    return user ? (\n        !code ? <Navigate to=\'/\' replace />:\n        <Navigate to={`/?code=${code}`} replace />\n    ) : (\n        <div className="login-screen">\n            <div className="login-budget-logo">\n                <div className="logo">\n                    <img src={loginBudgetLogo} />\n                </div>\n            </div>\n\n            <div className="login-form">\n                <LoginForm />\n            </div>\n        </div>\n    )\n}\n')))}p.isMDXComponent=!0}}]);